<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>
        Mô phỏng
    </title>
    <script>
        if (typeof (Proxy) === 'undefined') alert('The browser is not supported, please use chrome or firefox');
    </script>
<script type="text/javascript" src="mophong.js"></script>
<link rel="stylesheet" href="mophong.css">
</head>



<body>
    <div class="main" >
        <div id="sort-view">
            <ul></ul>
        </div>
        <div class="option">
            <div class="row">
                <button id="start">start</button>
                <button id="stop">stop</button>
                <button id="shuffle">shuffle</button>
                <select id="algorithm">
                    <option value="bubble">bubble</option>
        
                    <option value="sleep">sleep</option>
                    
                </select>
                <div class=" input-box">
                    <label class="key" for="amount">amount</label>
                    <input id="amount" class="value" value="50">
                </div>
                <a href="#" class="back-button">
                    <img src="../assets/back.png" alt="Back">
                </a>
                  </div>
                <div class="input-box">
                    <label class="key" for="speed">speed</label>
                    <input id="speed" class="value" value="50">
                </div>
            </div>
        </div>
    </div>
</body>
<div class="algorithm-explanation">
<h2>Thuật toán Bubble Sort</h2>
        <table>
            <tr>
                <th>Bước</th>
                <th>Giải Thích</th>
            </tr>
            <tr>
                <td>1</td>
                <td>Khởi tạo đối tượng thuật toán.</td>
            </tr>
            <tr>
                <td>2</td>
                <td>So sánh 2 phần tử đầu tiên, so sánh chúng xem phần tử nào lớn hơn.</td>
            </tr>
            <tr>
                <td>3</td>
                <td>Nếu phần tử thứ nhất lớn hơn phần tử thứ 2 thì đổi chỗ cho nhau, nếu không thì sẽ so sánh tiếp phần tử thứ hai với phần tử thứ 3.</td>
            </tr>
            <tr>
                <td>4</td>
                <td>Nếu phần tử 2 nhỏ phần tử 3 thì đã đúng vị trí nên không đổi chỗ cho nhau, nếu không thì sẽ đổi chỗ cho nhau và tiếp tục so sánh 2 phần tử 3 với 4.</td>
            </tr>
            <tr>
                <td>5</td>
                <td>Nếu phần tử 3 lớn hơn phần tử 4 thì đổi chỗ cho nhau, không thì sẽ giữ nguyên vị trí và tiếp tục so sánh 2 phần tử 4 và 5. </td>
            </tr>
            <tr>
                <td>6</td>
                <td>Nếu phần tử 4 lớn hơn phần tử 5 thì đổi chỗ, không thì giữ nguyên vị trí. </td>
            </tr>
            <tr>
                <td>7</td>
                <td>Vậy là kết thúc vòng lặp 1 nếu mảng vẫn chưa được sắp xếp đứng thì sẽ tiếp tục tiến hành vòng lặp thứ 2 tiếp tục sắp xếp tới khi không cần tráo đổi vị trí phần tử nào nữa thì đã sắp xếp xong.</td>
            </tr>
            </table>
    </div>
<script>
    document.querySelector(".back-button").addEventListener("click", function() {
      window.history.back();
    });
    // Thêm một hàm để cập nhật bảng giải thích
    function updateExplanationTable(step, code, explanation) {
            const table = document.getElementById("explanation-table");
            const row = table.insertRow(-1);
            const cell1 = row.insertCell(0);
            const cell2 = row.insertCell(1);
            const cell3 = row.insertCell(2);
            cell1.textContent = step;
            cell2.textContent = code;
            cell3.textContent = explanation;
        }

        // Thực hiện Bubble Sort và cập nhật bảng giải thích
        document.getElementById("start").addEventListener("click", function () {
            const amount = document.getElementById("amount").value;
            const speed = document.getElementById("speed").value;
            const algorithm = document.getElementById("algorithm").value;

            // Khởi tạo đối tượng thuật toán
            const e = new Algorithm();

            // Khởi tạo container
            e.init(document.getElementById("sort-view"));

            // Thực hiện Bubble Sort
            e.bubbleSort(amount, speed);
            // text
            

            // Cập nhật bảng giải thích
            updateExplanationTable('1',  'Khởi tạo đối tượng thuật toán');
            updateExplanationTable('2',  'So sánh 2 phần tử đầu tiên, so sánh chúng xem phần tử nào lớn hơn.');
            updateExplanationTable('3',  'Nếu phần tử thứ nhất lớn hơn phần tử thứ 2 thì đổi chỗ cho nhau, nếu không thì sẽ so sánh tiếp phần tử thứ hai với phần tử thứ 3.');
            updateExplanationTable('4',  'Nếu phần tử 2 nhỏ phần tử 3 thì đã đúng vị trí nên không đổi chỗ cho nhau, nếu không thì sẽ đổi chỗ cho nhau và tiếp tục so sánh 2 phần tử 3 với 4.');
            updateExplanationTable('5',  'Nếu phần tử 3 lớn hơn phần tử 4 thì đổi chỗ cho nhau, không thì sẽ giữ nguyên vị trí và tiếp tục so sánh 2 phần tử 4 và 5.');
            updateExplanationTable('6',  'Nếu phần tử 4 lớn hơn phần tử 5 thì đổi chỗ, không thì giữ nguyên vị trí.');
            updateExplanationTable('7',  'Vậy là kết thúc vòng lặp 1 nếu mảng vẫn chưa được sắp xếp đứng thì sẽ tiếp tục tiến hành vòng lặp thứ 2 tiếp tục sắp xếp tới khi không cần tráo đổi vị trí phần tử nào nữa thì đã sắp xếp xong.');
            
        });
    </script>
    

    
</html>